---
type: header
schema_version: '1'
...
---
schema: public
name: cards
type: table
description: 'Contains detailed information and metadata about individual Magic: The
  Gathering cards, including identifiers, attributes, text, and availability flags.'
columns:
- name: id
  description: Surrogate primary key for each card record.
- name: artist
  description: Name of the card's illustrator.
- name: asciiname
  description: ASCII-only version of the card name, used for simplified matching.
- name: availability
  description: Comma-separated list of platforms where the card is available (e.g.,
    paper, mtgo).
- name: bordercolor
  description: Border color category of the printed card.
- name: cardkingdomfoilid
  description: Card Kingdom store identifier for foil version.
- name: cardkingdomid
  description: Card Kingdom store identifier for non-foil version.
- name: coloridentity
  description: Set of mana colors in the card's color identity.
- name: colorindicator
  description: Colors shown by the small dot indicator on the card, if any.
- name: colors
  description: Actual colors of the card as printed.
- name: convertedmanacost
  description: Numeric converted mana cost (CMC) of the card.
- name: dueldeck
  description: Code of the Duel Deck product this card belongs to, if applicable.
- name: edhrecrank
  description: Ranking on EDHREC website indicating commander popularity.
- name: faceconvertedmanacost
  description: CMC of the face for double-faced or split cards.
- name: facename
  description: Name of the specific face for multi-faced cards.
- name: flavorname
  description: Special name used in flavor text or story spotlights.
- name: flavortext
  description: Narrative or quotation flavor text printed on the card.
- name: frameeffects
  description: Comma-separated list of visual frame effects (e.g., nyxtouched).
- name: frameversion
  description: Version of the card frame template (e.g., 2003, 2015).
- name: hand
  description: Hand modifier value printed on Vanguard cards.
- name: hasalternativedecklimit
  description: Flag indicating if the card has an alternative deck-building limit.
- name: hascontentwarning
  description: Flag indicating if the card image may require a content warning.
- name: hasfoil
  description: Flag showing if a foil printing exists.
- name: hasnonfoil
  description: Flag showing if a non-foil printing exists.
- name: isalternative
  description: Flag for alternative art or special alternate versions.
- name: isfullart
  description: Flag indicating a full-art style card.
- name: isonlineonly
  description: Flag indicating prints that exist only on digital platforms.
- name: isoversized
  description: Flag marking oversized promotional cards.
- name: ispromo
  description: Flag indicating promotional card print.
- name: isreprint
  description: Flag showing this printing is a reprint of an older card.
- name: isreserved
  description: Flag whether the card is on the reserved list.
- name: isstarter
  description: Flag indicating a starter-level simplified card.
- name: isstoryspotlight
  description: Flag marking story spotlight cards in the storyline.
- name: istextless
  description: Flag for textless promo versions.
- name: istimeshifted
  description: Flag indicating timeshifted special sheet cards.
- name: keywords
  description: Comma-separated list of rules keywords appearing on the card.
- name: layout
  description: Card layout type (normal, split, transform, etc.).
- name: leadershipskills
  description: Marks if the card can be a commander, oathbreaker, etc.
- name: life
  description: Life modifier value for Vanguard cards.
- name: loyalty
  description: Starting loyalty for planeswalker cards.
- name: manacost
  description: Mana cost string in curly-brace notation.
- name: mcmid
  description: Cardmarket (MKM) product identifier.
- name: mcmmetaid
  description: Cardmarket meta-product identifier.
- name: mtgarenaid
  description: Magic Arena internal card identifier.
- name: mtgjsonv4id
  description: UUID from the MTGJSON v4 database.
- name: mtgofoilid
  description: Magic Online foil identifier.
- name: mtgoid
  description: Magic Online non-foil identifier.
- name: multiverseid
  description: Wizards of the Coast multiverse ID for this printing.
- name: name
  description: Official English name of the card.
- name: number
  description: Collector number within its set.
- name: originalreleasedate
  description: Original release date for this card face, if earlier than set release.
- name: originaltext
  description: Oracle text as originally printed.
- name: originaltype
  description: Type line as originally printed.
- name: otherfaceids
  description: List of UUIDs for the other faces of the same card.
- name: power
  description: Printed power value for creatures.
- name: printings
  description: Comma-separated list of set codes this card has appeared in.
- name: promotypes
  description: List of promotion types for this printing.
- name: purchaseurls
  description: JSON object of store URLs where the card can be purchased.
- name: rarity
  description: Rarity level of the printing (common, uncommon, etc.).
- name: scryfallid
  description: Scryfall unique card identifier.
- name: scryfallillustrationid
  description: Scryfall illustration UUID for this artwork.
- name: scryfalloracleid
  description: Scryfall oracle UUID shared by all printings of a card.
- name: setcode
  description: Three-letter code of the set this card belongs to.
- name: side
  description: Indicates card side for double-faced cards (a or b).
- name: subtypes
  description: Comma-separated list of creature or card subtypes.
- name: supertypes
  description: Comma-separated list of supertypes such as Legendary.
- name: tcgplayerproductid
  description: TCGPlayer product identifier.
- name: text
  description: Current oracle rules text of the card.
- name: toughness
  description: Printed toughness value for creatures.
- name: type
  description: Full type line including supertypes, types, and subtypes.
- name: types
  description: Primary card types present, comma-separated.
- name: uuid
  description: MTGJSON universal unique identifier for this card face.
- name: variations
  description: UUIDs of variant printings or arts.
- name: watermark
  description: Watermark symbol printed behind the text box, if any.
...
---
schema: public
name: foreign_data
type: table
description: Stores translations of card name, type, text, and flavor text for various
  foreign languages, keyed by the card's UUID.
columns:
- name: id
  description: Surrogate primary key for each foreign text record.
- name: flavortext
  description: Localized flavor text string.
- name: language
  description: Language of the translation (e.g., French, German).
- name: multiverseid
  description: Multiverse ID of the localized printing.
- name: name
  description: Localized card name.
- name: text
  description: Localized oracle text.
- name: type
  description: Localized type line.
- name: uuid
  description: UUID referencing the corresponding English card in the cards table.
...
---
schema: public
name: legalities
type: table
description: Lists legality status of each card across different Magic play formats
  using the card's UUID.
columns:
- name: id
  description: Surrogate primary key for each legality entry.
- name: format
  description: Name of the constructed format (e.g., standard, commander).
- name: status
  description: Legality status in the format (Legal, Banned, Restricted).
- name: uuid
  description: UUID of the card whose legality is specified.
...
---
schema: public
name: set_translations
type: table
description: Contains translated names of Magic set codes in various languages.
columns:
- name: id
  description: Surrogate primary key for each set translation row.
- name: language
  description: Language of the set name translation.
- name: setcode
  description: Three-letter code of the set being translated, referencing sets.code.
- name: translation
  description: Localized name of the set.
...
---
schema: public
name: sets
type: table
description: 'Catalog of Magic: The Gathering expansion sets with metadata such as
  size, release date, and product codes.'
columns:
- name: id
  description: Surrogate primary key for each set.
- name: basesetsize
  description: Number of cards in the base set excluding variants.
- name: block
  description: Block or product family the set belongs to.
- name: booster
  description: JSON describing booster collation information.
- name: code
  description: Unique three- or four-letter code identifying the set.
- name: isfoilonly
  description: Flag if the set is printed exclusively in foil.
- name: isforeignonly
  description: Flag if the set was released only in non-English languages.
- name: isnonfoilonly
  description: Flag if the set is available only in non-foil.
- name: isonlineonly
  description: Flag marking digital-only sets.
- name: ispartialpreview
  description: Flag indicating the set data is only a preview, not complete.
- name: keyrunecode
  description: Keyrune icon code representing the set symbol.
- name: mcmid
  description: Cardmarket set identifier.
- name: mcmidextras
  description: Cardmarket extra identifier for variants.
- name: mcmname
  description: Set name as used by Cardmarket.
- name: mtgocode
  description: Magic Online set code, if different.
- name: name
  description: Official English name of the set.
- name: parentcode
  description: Code of the parent set for supplemental products.
- name: releasedate
  description: Official release date of the set.
- name: tcgplayergroupid
  description: TCGPlayer group identifier for the set.
- name: totalsetsize
  description: Total number of cards in the set including all variants.
- name: type
  description: Classification of the set (core, expansion, masters, etc.).
...
---
type: sql_example
sql: '-- 1. Finding cards with foreign translations in a specific language (e.g.,
  French)

  SELECT T1.id, T1.name, T2.language, T2.name AS foreign_name

  FROM cards AS T1

  INNER JOIN foreign_data AS T2 ON T1.uuid = T2.uuid

  WHERE T2.language = ''French'';'
description: This query finds all cards and their French names using a join between
  cards and foreign_data. It demonstrates how to retrieve foreign language versions
  of cards.
...
---
type: sql_example
sql: "-- 2. Calculating the percentage of cards with a specific property (e.g., borderless)\n\
  SELECT\n  CAST(SUM(CASE WHEN borderColor = 'borderless' THEN 1 ELSE 0 END) AS REAL)\
  \ * 100 / NULLIF(COUNT(id), 0) AS percent_borderless\nFROM cards;"
description: This query calculates what percentage of all cards have a borderless
  borderColor. It shows how to use conditional aggregation to compute percentages.
...
---
type: sql_example
sql: '-- 3. Determining legality status of a card in a specific format

  SELECT T1.name, T2.format, T2.status

  FROM cards AS T1

  JOIN legalities AS T2 ON T1.uuid = T2.uuid

  WHERE T1.name = ''Serra Angel'' AND T2.format = ''commander'';'
description: This retrieves the legality status of 'Serra Angel' for the commander
  format by joining the cards and legalities tables.
...
---
type: sql_example
sql: '-- 4. Counting cards with unknown or variable power

  SELECT COUNT(*) FROM cards WHERE power IS NULL OR power = ''*'';'
description: This counts how many cards have unknown or variable power (missing or
  using an asterisk symbol).
...
---
type: sql_example
sql: '-- 5. Listing sets with translations in more than one language

  SELECT T1.code, T1.name, COUNT(DISTINCT T2.language) AS num_languages

  FROM sets AS T1

  JOIN set_translations AS T2 ON T1.code = T2.setCode

  GROUP BY T1.code, T1.name

  HAVING COUNT(DISTINCT T2.language) > 1;'
description: This lists sets that are available in more than one foreign language,
  showing the use of grouping and counting distinct values.
...
---
type: sql_example
sql: '-- 6. Finding which card of two costs more mana

  SELECT name, convertedManaCost FROM cards WHERE name IN (''Serra Angel'', ''Shrine
  Keeper'')

  ORDER BY convertedManaCost DESC NULLS LAST LIMIT 1;'
description: This compares 'Serra Angel' and 'Shrine Keeper' to see which has the
  higher converted mana cost, using ORDER BY and LIMIT.
...
---
type: sql_example
sql: '-- 7. Calculating percentage of cards in a foreign language among Story Spotlight
  cards

  SELECT CAST(SUM(CASE WHEN T2.language = ''French'' THEN 1 ELSE 0 END) AS REAL) *
  100 / NULLIF(COUNT(T1.id),0) AS pct_french_story_spotlight

  FROM cards AS T1 INNER JOIN foreign_data AS T2 ON T1.uuid = T2.uuid

  WHERE T1.isStorySpotlight = 1;'
description: This finds the percentage of Story Spotlight cards that have a French
  translation.
...
---
type: sql_example
sql: '-- 8. List banned mythic rarity cards for a format (e.g., gladiator)

  SELECT DISTINCT T1.id, T1.name

  FROM cards AS T1

  JOIN legalities AS T2 ON T1.uuid = T2.uuid

  WHERE T1.rarity = ''mythic'' AND T2.format = ''gladiator'' AND T2.status = ''Banned'';'
description: This shows how to combine multiple table conditions (rarity, format,
  legality) to find special subsets of cards.
...
---
type: sql_example
sql: '-- 9. Listing artists in a set who designed cards, filtering by a list of artists

  SELECT DISTINCT T1.artist

  FROM cards AS T1

  JOIN sets AS T2 ON T1.setCode = T2.code

  WHERE T2.name = ''Coldsnap'' AND T1.artist IN (''Jeremy Jarvis'', ''Aaron Miller'',
  ''Chippy'');'
description: This demonstrates filtering using lists (IN clause) and joining to relate
  cards to their set and artist.
...
---
type: sql_example
sql: "-- 10. Checking if a set has translations into both Korean and not Japanese\n\
  SELECT s.name\nFROM sets s\nWHERE s.code IN (\n  SELECT setCode\n  FROM set_translations\n\
  \  WHERE language = 'Korean'\n    AND setCode NOT IN (SELECT setCode FROM set_translations\
  \ WHERE language LIKE '%Japanese%')\n);"
description: This demonstrates nested queries to find sets translated into Korean
  but not Japanese, highlighting use of subqueries and NOT IN.
...
